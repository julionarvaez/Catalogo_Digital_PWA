<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Limpieza InstantÃ¡nea</title>
</head>
<body>
    <h1>Limpiando cachÃ©...</h1>
    <script>
        (async function() {
            console.log('ðŸ”„ Iniciando limpieza instantÃ¡nea...');
            
            // 1. Service Workers
            if ('serviceWorker' in navigator) {
                const regs = await navigator.serviceWorker.getRegistrations();
                for (const reg of regs) {
                    await reg.unregister();
                }
                console.log('âœ… Service Workers eliminados');
            }
            
            // 2. CachÃ©s
            if ('caches' in window) {
                const keys = await caches.keys();
                for (const key of keys) {
                    await caches.delete(key);
                }
                console.log('âœ… CachÃ©s eliminadas');
            }
            
            // 3. Storage
            localStorage.clear();
            sessionStorage.clear();
            console.log('âœ… Storage limpiado');
            
            // 4. IndexedDB
            if ('indexedDB' in window) {
                const dbs = await indexedDB.databases();
                for (const db of dbs) {
                    indexedDB.deleteDatabase(db.name);
                }
                console.log('âœ… IndexedDB limpiado');
            }
            
            alert('âœ… Limpieza completada! Ahora se recargarÃ¡ la pÃ¡gina.');
            
            // Redirigir
            window.location.href = 'index.html';
        })();
    </script>
</body>
</html>
